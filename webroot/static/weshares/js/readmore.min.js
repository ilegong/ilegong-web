"use strict";function readMore(e){function t(e,t,o){function s(){o.debug("setToggleMoreText"),r.toggle.moreText=r.hmMoreText||"Read more"}function n(){o.debug("setToggleLessText"),r.toggle.lessText=r.hmLessText||"Read less"}function m(){o.debug("setCurrentToggleText"),r.toggle.text=r.toggle.state?r.toggle.lessText:r.toggle.moreText}function g(){o.debug("setShowToggle"),r.toggle.show=r.moreText&&r.moreText.length>0}function l(){o.debug("validateLimit"),r.hmLimit=r.hmLimit&&r.hmLimit<=0?void 0:r.hmLimit}function a(){return o.debug("getMoreTextLimit"),r.hmLimit&&r.hmLimit<r.hmText.length?r.hmLimit-r.hmText.length:0}function i(){o.debug("setLessAndMoreText"),r.lessText=e("limitTo")(r.hmText,r.hmLimit),r.moreText=e("limitTo")(r.hmText,a())}function h(){o.debug("initialize"),s(),n(),l(),i(),g(),m()}var r=this;r.toggle={dots:"...",dotsClass:r.hmDotsClass,linkClass:r.hmLinkClass},r.doToggle=function(){o.debug("doToggle"),r.toggle.state=!r.toggle.state,r.showMoreText=!r.showMoreText,m()},t.$watch("vm.hmMoreText",function(e,t){e!=t&&(o.debug("hmMoreText changed"),s(),m())}),t.$watch("vm.hmLessText",function(e,t){e!=t&&(o.debug("hmLessText changed"),n(),m())}),t.$watch("vm.hmDotsClass",function(e,t){e!=t&&(o.debug("hmDotsClass changed"),r.toggle.dotsClass=r.hmDotsClass)}),t.$watch("vm.hmLinkClass",function(e,t){e!=t&&(o.debug("hmLinkClass changed"),r.toggle.linkClass=r.hmLinkClass)}),h(),t.$watch("vm.hmText",function(e,t){e!=t&&(o.debug("hmText changed"),l(),i(),g())}),t.$watch("vm.hmLimit",function(e,t){e!=t&&(o.debug("hmLimit changed"),l(),i(),g())})}var o={restrict:"AE",scope:{hmText:"@",hmLimit:"@",hmMoreText:"@",hmLessText:"@",hmDotsClass:"@",hmLinkClass:"@"},template:e.get("readmore.template.html"),controller:t,controllerAs:"vm",bindToController:!0};return t.$inject=["$filter","$scope","$log"],o}angular.module("hm.readmore",["ngAnimate"]).directive("hmReadMore",readMore).config(["$logProvider",function(e){e.debugEnabled(!1)}]),readMore.$inject=["$templateCache"],angular.module("hm.readmore").run(["$templateCache",function(e){e.put("readmore.template.html",'<span name="text">\n	<span>{{ vm.lessText }}</span><span ng-show="vm.showMoreText" class="more-show-hide">{{ vm.moreText }}</span>\n</span>\n\n<span name="toggle" ng-show="vm.toggle.show">\n	<span ng-class="vm.toggle.dotsClass" ng-show="!vm.toggle.state">{{ vm.toggle.dots }}</span>\n	<a ng-class="vm.toggle.linkClass" ng-click="vm.doToggle()">{{ vm.toggle.text }}</a>\n</span>\n')}]);