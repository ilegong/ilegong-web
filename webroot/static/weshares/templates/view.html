<div ng-show="vm.showShareDetailView">
    <div class="weshare-view">
        <ul class="clearfix header margin-bottom-12">
            <li>
                <img ng-src="{{vm.weshare.creator.image||'/img/default_user_icon.jpg'}}" ng-click="vm.toUserShareInfo(vm.weshare.creator.id)"/>
                <br>
                <s style="display: inline-flex;">
                    <span ng-if="vm.weshare.creator.is_proxy==1" style="color: white; font-size: 13px; font-weight: 700; padding: 2px; margin-top: 6px; background-color: #29AC0E; text-align: center; ">团长</span>
                    <img ng-if="vm.userShareSummery.follower_count>=50" src="/static/weshares/images/v.png" style="width: 20px;height: 20px;position: absolute;top: 44px;left: 41px;"/>
                    <img ng-if="vm.supportPysZiti>0" src="/static/weshares/images/hlj.jpeg" style="width: 25px;height: 25px;"/>
                </s>
            <li>
                <div style="display: -webkit-inline-box">
                    <label ng-click="vm.toUserShareInfo(vm.weshare.creator.id)" ng-bind="vm.weshare.creator.nickname"></label>
                    <a ng-if="!vm.userSubStatus" style="margin-left: 5px;margin-top: 3px;width: 50px;line-height: 20px;background-color: #F2651A;" class="statistics-btn" ng-click="vm.subSharer();" ng-bind="vm.subShareTipTxt">+关注</a>
                </div>
            <s><span ng-bind="vm.ordersDetail.summery.all_buy_user_count"
                     style="color: #ffa200;"></span>&nbsp;报名
                &nbsp;&nbsp;<span ng-click="vm.showCommentListDialog()" ng-if="vm.getOrderCommentLength()>=1&&vm.userSubStatus"><span
                    style="color: #ffa200" ng-bind="vm.getOrderCommentLength()">0</span>&nbsp;爱心评价</span>
                &nbsp;&nbsp;<span
                    ng-if="vm.getOrderCommentLength()<1&&vm.userSubStatus"><span style="color: #ffa200" ng-bind="vm.userShareSummery.follower_count">0</span>&nbsp;粉丝</span>&nbsp;&nbsp;<span
                    ng-if="(vm.currentUser.is_proxy==1||vm.isCreator())&&vm.weshare.proxy_rebate_percent.percent>0">佣金&nbsp;<span
                    ng-bind="vm.weshare.proxy_rebate_percent.percent+'%'" style="color: #ffa200;"></span></span></s>
            </li>
            <ul class="clearfix header margin-bottom-12" style="margin-left: 3px;float: right;">
                <li style="margin-right: 5px; float: right;" ng-if="vm.isCreator()"><a style="margin-top: 0px;width: 65px;"
                                                                                       class="statistics-btn"
                                                                                       ng-click="vm.toShareOrderList()">订单管理</a>
                </li>
                <li style="margin-right: 5px; float: right;" ng-if="vm.isCreator()"><a style="margin-top: 0px;width: 65px;"
                                                                                       class="statistics-btn"
                                                                                       ng-click="vm.toUpdate()">修改</a>
                </li>
                <li style="margin-right: 5px; float: right;" ng-if="!vm.isCreator()"><a style="margin-top: 0px;width: 75px;"
                                                                                        class="statistics-btn"
                                                                                        ng-click="vm.createMyShare()">我也要分享</a>
                </li>
            </ul>
            <div class="recommend" ng-if="vm.recommendData.length > 0">
                <div class="share-list">
                    <div ng-repeat="recommend in vm.recommendData" class="user-avatar" data-uid="recommend.id"><a ng-click="vm.toUserShareInfo(recommend.id)"><img
                            ng-src="{{recommend.image}}" alt="{{recommend.nickname}}"></a></div>
                </div>
                <span class="share-list-etc">推荐</span>
            </div>
        </ul>
        <div class="introduction margin-bottom-12">
            <b></b>
            <div class="status" ng-bind="vm.statusMap[vm.weshare.status]"></div>
            <h1 class='title margin-bottom-12' ng-bind="vm.weshare.title"></h1>
            <p id="share-description" class="margin-bottom-12" ng-hide='_.isEmpty(vm.weshare.description)' ng-bind-html='vm.weshare.description | unsafe'></p>
            <a style="float: right;" href="#X">更多</a>
            <dl class="clearfix images margin-bottom-12">
                <dt ng-repeat="image in vm.weshare.images"><a ng-click="vm.viewImage(image)"><img ng-src="{{image}}"/></a></dt>
            </dl>
            <div class="products form-group" ng-class="{'has-error':vm.productsHasError}">
                <dl class="clearfix product form-control" ng-repeat="product in vm.weshare.products">
                    <dd class="fl" ng-if="!vm.checkProductNum(product)||product.store==0">{{product.name}}<span style="color: red;font-weight: bold;" ng-if="product.tbd==1">&nbsp;&nbsp;预付</span><span ng-if="!vm.checkProductNum(product)">&nbsp;&nbsp;(<span style="color: red;">抢光了</span>)</span></dd>
                    <dd class="fl" ng-if="vm.checkProductNum(product)&&product.store>0">{{product.name}}<span style="color: red;font-weight: bold;" ng-if="product.tbd==1">&nbsp;&nbsp;预付</span>&nbsp;&nbsp;(仅剩<span style="color: red;" ng-bind="vm.getProductLeftNum(product)"></span>份)</dd>
                    <dd class="fr" ng-if="vm.checkProductNum(product)">
                        <a class='btn decrease-btn' ng-click="vm.decreaseProductNum(product)"></a>
                        <span class='num' ng-bind="product.num||0"></span>
                        <a class='btn increase-btn' ng-click="vm.increaseProductNum(product)"></a>
                    </dd>
                    <dd class="fr" ng-if="!vm.checkProductNum(product)">
                        <span class='num' style="margin-left: 60px;">&nbsp;</span>
                    </dd>
                    <dd class="fr" style="color: #29AC0E;" ng-bind="product.price/100 | currency:'￥'"></dd>
                </dl>
                <p class='tips'>请输入商品数量</p>
            </div>
            <div class='send-info text-center margin-bottom-12' ng-hide='_.isEmpty(vm.weshare.send_info)'>取货时间: <span ng-bind='vm.weshare.send_info'></span></div>
        </div>
        <div class="orders">
            <ul class="order clearfix margin-bottom-12" ng-class="{'my-order': vm.isOwner(order)}" ng-repeat="order in vm.ordersDetail.orders">
                <li class='buyer-image'>
                    <img ng-click="vm.toUserShareInfo(order.creator)" ng-src="{{vm.ordersDetail.users[order.creator]['image']||'/img/default_user_icon.jpg'}}"/>
                    <p ng-if="vm.ordersDetail.users[order.creator]['is_proxy']==1" style="color: white; font-size: 13px; font-weight: 700; padding: 2px; margin-top: 1px; background-color: #29AC0E;text-align: center;">
                        团长</p>
                </li>
                <li class="detail" ng-if='order.status!=9'>
                    <b></b>
                    <p><strong class='buyer-name' ng-bind="vm.ordersDetail.users[order.creator]['nickname']"></strong> 已经报名
                        <span ng-if="order.status==9" class="done-status"><i class="fa fa-heart fa-lg"></i></span>
                        <strong ng-if="order.status==21" class="paid-status">待发货</strong>
                        <strong ng-if="order.status==14" class="refunding-status">退款中</strong>
                        <strong ng-if="order.status==4" class="refund-status">已退款</strong>
                        <strong ng-if="order.status==2" class="shipped-status" ng-bind="vm.getStatusName(order.status, order.ship_mark)"></strong>
                        <strong ng-if="order.status==3" class="received-status" ng-bind="vm.getStatusName(order.status, order.ship_mark)"></strong>
                        <strong ng-if="order.status==1" class="paid-status" ng-bind="vm.getStatusName(order.status, order.ship_mark)"></strong>
                    </p>
                    <p ng-if="order.process_prepaid_status!=0&&order.is_prepaid==1" style="padding: 0;padding-right: 10px;">
                        <strong ng-if="order.process_prepaid_status==25" class="received-status" ng-bind="vm.getProcessPrepaidStatus(order.process_prepaid_status)"></strong>
                        <strong ng-if="order.process_prepaid_status==26" class="refund-status" ng-bind="vm.getProcessPrepaidStatus(order.process_prepaid_status)"></strong>
                        <strong ng-if="order.process_prepaid_status==27" class="paid-status" ng-bind="vm.getProcessPrepaidStatus(order.process_prepaid_status)"></strong>
                        <strong ng-if="order.process_prepaid_status==28" class="refund-status" ng-bind="vm.getProcessPrepaidStatus(order.process_prepaid_status)"></strong>
                        <strong ng-if="order.process_prepaid_status==29" class="paid-status" ng-bind="vm.getProcessPrepaidStatus(order.process_prepaid_status)"></strong>
                    </p>
                    <span class='display-name' ng-hide="_.isEmpty(vm.getOrderDisplayName(order.id))" ng-bind="vm.getOrderDisplayName(order.id)"></span>
                    <div style="display: inline-flex;width: 100%;" ng-if="vm.isCurrentUserRecommend(order)&&(order.cate_id > 0&&((order.status!=3)||(order.status==3&&!vm.isOwner(order)&&!vm.isCreator())))">
                        <div style="display: inline;width: 100%;"><span style="width: 30%;" class='created-at' ng-bind="vm.getFormatDate(order.created)"></span><span ng-click="vm.toRecommendUserInfo(order)" style="margin-top: -30px;line-height: 20px;margin-left: 10px;background-color: #29AC0E;padding: 3px;float: right;display: block;width: auto;" class="statistics-btn" ng-bind="vm.getRecommendInfo(order)"></span></div>
                    </div>
                    <div style="display: inline-flex;width: 100%;" ng-if="!vm.isCurrentUserRecommend(order)||!(order.cate_id > 0&&((order.status!=3)||(order.status==3&&!vm.isOwner(order)&&!vm.isCreator())))">
                        <div style="width: 29%;"><span style="width: 100%;" class='created-at' ng-bind="vm.getFormatDate(order.created)"></span></div>
                        <div style="float: right;margin-left: 49%; width: 30%;"
                             ng-if="order.status==3&&vm.isOwner(order)" ng-click="vm.showCommentDialog(order)">
                            <div class="commenting-o"><i class="fa fa-commenting-o fa-lg"></i></div>
                        </div>
                        <div style="float: right;margin-left: 37%; width: 30%;"
                             ng-if="order.status==3&&vm.isCreator()&&!order.notify"
                             ng-click="vm.notifyUserToComment(order)">
                            <div class="commenting-o"><a
                                    style="margin-top: 0px;width: 65px;line-height: 0;margin-left: 10px;display: inline;"
                                    class="statistics-btn">求评价</a></div>
                        </div>
                    </div>
                    <div class="send-info" ng-if="vm.isOwner(order)">
                        <span>姓名:</span>
                        <span ng-bind="order.consignee_name"></span>
                        <br>
                        <span>手机:</span>
                        <span ng-bind="order.consignee_mobilephone"></span>
                        <br>
                        <span>地址:</span>
                        <span ng-bind="order.consignee_address"></span>
                        <br/>
                        <a class="btn confirm-btn" ng-click="vm.confirmReceived(order)" ng-show="order.status==2"><span ng-if="order.ship_mark=='pys_zi_ti' || order.ship_mark=='self_zi_ti'">已收货</span><span ng-if="order.ship_mark=='kuai_di'">已签收</span></a>
                        <a class="btn order-confirmed-btn" ng-show="order.status==3"><span ng-if="order.ship_mark=='pys_zi_ti' || order.ship_mark=='self_zi_ti'">已收货</span><span ng-if="order.ship_mark=='kuai_di'">已签收</span></a>
                    </div>
                    <span ng-if='vm.isShowShipCode(order);' class="display-name" style="background: darkgray;" ng-bind="vm.getShipCode(order);"></span>
                </li>
                <li class="detail" ng-if='order.status==9'>
                    <b></b>
                    <p><strong class='buyer-name' ng-bind="vm.ordersDetail.users[order.creator]['nickname']"></strong>
                        <span class="done-status"><i class="fa fa-heart fa-lg"></i></span>
                    </p>
                    <span class='display-name' ng-hide="_.isEmpty(vm.getOrderComment(order.id).body)" ng-bind="vm.getOrderComment(order.id).body"></span>
                    <div style="display: inline-flex;width: 97%;">
                        <div style="display: inline-flex;width: 100%;"><span class="small-order-info" ng-bind="vm.getOrderDisplayName(order.id)"></span><span class='created-at' ng-bind="vm.getFormatDate(order.created)"></span></div>
                        <div style="float: right;" ng-if="order.status==9" ng-click="vm.showCommentDialog(order,vm.getOrderComment(order.id))"><div class="commenting-o"><i class="fa fa-commenting-o fa-lg"></i></div></div>
                    </div>
                    <div class="send-info" ng-if="vm.showReplies(vm.getOrderComment(order.id).id)">
                        <div ng-repeat="reply in vm.getReplyComments(vm.getOrderComment(order.id).id)" style="margin-bottom: 8px;" ng-click="vm.showCommentDialog(order,reply)">
                            <div ng-if="reply.is_reply==0" style="display: inline-table;">
                                <a ng-bind="reply.username" style="color:#6EAFD5;" ng-click="vm.toUserShareInfo(reply.user_id)"></a><span>:&nbsp;</span>
                            </div>
                            <div ng-if="reply.is_reply==1" style="display: inline-table;">
                                <a ng-bind="reply.username" style="color:#6EAFD5;" ng-click="vm.toUserShareInfo(reply.user_id)"></a><span>回复</span><a ng-bind="reply.reply_username" style="color:#6EAFD5;" ng-click="vm.toUserShareInfo(reply.reply_user_id)"></a><span>:&nbsp;</span>
                            </div>
                            <span ng-bind="reply.body" style="word-break: break-all;" ng-click="vm.showCommentDialog(order,reply)"></span>
                        </div>
                    </div>
                </li>
            </ul>
        </div>
        <div style="text-align: center;">
            <a href="/"><img src="/img/logo_footer.jpg" border="0" style="width: 4.625em;height: 1.583em;"/></a><br/>朋友说—朋友间最真挚的分享
        </div>
    </div>

    <footer class="channel_bottom">
        <a class="btm_item" href="/share_opt/index.html">
            <i ng-if="vm.showUnReadMark" style="background:#f00;border-radius:50%;width:15px;height:15px;top:2px;left:12%;position:absolute; display: block;"></i>
            <p class="iconfont" style="height: 16px;"><i class="fa fa-users"></i></p>
            <b>朋友说</b>
        </a>
        <a class="new" ng-if="!vm.isCreator()&&!vm.isProxy()&&vm.weshare.status == 0" ng-click="vm.buyProducts()">我要报名</a>
        <a class="new" ng-if="!vm.isCreator()&&vm.isProxy()&&vm.weshare.status == 0" ng-click="vm.buyProducts()" style="width: 28%;">我要报名</a>
        <a class="new" ng-if="!vm.isCreator()&&vm.isProxy()&&vm.weshare.status == 0" ng-click="vm.showRecommendDialog=true;vm.showLayer=true;" style="width: 28%;margin-right: 7%;">我要推荐</a>
        <a class="new" ng-if="vm.isCreator()&&vm.weshare.status == 0&&vm.notifyType() == 1" ng-click='vm.notifyFans();'
           style="width: 28%;">团购提醒</a>
        <a class="new" ng-if="vm.isCreator()&&vm.weshare.status == 0&&vm.notifyType() == 0" ng-click='vm.sendNewShareMsg();'
           style="width: 28%;">建团提醒</a>
        <a class="new" ng-if="vm.isCreator()&&vm.weshare.status == 0" ng-click='vm.stopShare();'
           style="width: 28%; margin-right: 7%;">截止报名</a>
        <a class="new" ng-if="!vm.isCreator()&&(vm.weshare.status == 2||vm.weshare.status == 1)"
           style="background-color:#9EB1BD;">报名已截止</a>
        <a class="new" ng-if="vm.isCreator()&&(vm.weshare.status == 2||vm.weshare.status == 1)"
           style="background-color:#9EB1BD;width: 28%;">报名已截止</a>
        <a class="new" ng-if="vm.isCreator()&&(vm.weshare.status == 2||vm.weshare.status == 1)"
           style="width: 28%; margin-right: 7%;" ng-click="vm.cloneShare()">重新开团</a>
        <a class="btm_item" href="/weshares/user_share_info">
            <p class="iconfont" style="height: 16px;"><i class="fa fa-user"></i></p>
            <b>我的</b>
        </a>
    </footer>

    <div class="share-dialog" ng-show="vm.showShareDialog">
        <div style="width: 90%; margin: 0 auto; font-size: 1.3em;">点击右上角“…”，分享给好友或朋友圈。</div>
    </div>
    <!--paid done no red packet-->
    <div class="share-dialog" ng-show="vm.showNotifyShareDialog">
        <div style="width: 90%; margin: 0 auto; font-size: 1.3em;">点击右上角“…”，告诉{{vm.weshare.creator.nickname}}我团好了。</div>
    </div>

    <div ng-show="vm.showNotifyGetPacketDialog" class="red-packet-dialog">
        <div class="content">
            <div class="nav">
                <img src="/static/weshares/images/close.png" class="close-btn" ng-click="vm.showNotifyGetPacketDialog=false;vm.showLayer=false;">
            </div>
            <div class="head">
                <img ng-src="{{vm.weshare.creator.image||'/static/weshares/images/share_icon.jpg'}}"/>
            </div>
            <div class="desc">
                <h3>{{vm.weshare.creator.nickname}}送你爱心礼包</h3>
                <h1>{{vm.getPacketNum}}</h1>
            </div>
        </div>
    </div>

    <div ng-show="vm.showNotifyShareOfferDialog" class="red-packet-dialog">
        <div class="content">
            <div class="nav">
                <img src="/static/weshares/images/close.png" class="close-btn" ng-click="vm.showNotifyShareOfferDialog=false;vm.showLayer=false;">
            </div>
            <div class="head">
                <img src="/static/weshares/images/share_icon.jpg"/>
            </div>
            <div class="desc">
                <h3>{{vm.weshare.creator.nickname}}送你爱心礼包</h3>
                <p>告诉{{vm.weshare.creator.nickname}}我团好了！</p>
            </div>
        </div>
    </div>
    <!--评价层-->
    <div class="commenting-dialog" ng-show="vm.showCommentingDialog">
        <div class="clearfix title">
            <label>爱心评价</label>
            <a ng-click="vm.closeCommentDialog();" class="closebtn fr"></a>
        </div>
        <div class="clearfix" style="padding: 0 10px;margin-bottom: 30px;">
            <div class="form-group" ng-class="{'has-error': vm.usernameHasError}">
                <textarea id="commentContentDom" class='form-control' placeholder="{{vm.commentTipInfo}}" ng-model='vm.submitTempCommentData.comment_content' ng-change=''></textarea>
                <p class='tips'>请输入评价信息</p>
            </div>
        </div>
        <div class="clearfix starttuan_btn">
            <a ng-click='vm.submitComment()' style="background-color: #ffa200; width: 100%;">评价</a>
        </div>
    </div>
    <!--通知粉丝层-->
    <div class="notify-dialog" ng-show="vm.showNotifyView">
        <div class="clearfix title" style="padding: 0 10px 10px;">
            <label style="font-size: 18px;">参团提醒</label>
            <a ng-click="vm.showLayer=false;vm.showNotifyView=false;" class="closebtn fr"></a>
        </div>
        <div class="clearfix" style="padding: 0 10px;">
            <div class="form-group">
                <div class="form-control radio-group">
                    <div>
                        <input type="radio" class="radio" ng-model="vm.sendNotifyType" value="0" ng-change='vm.resetNotifyContent()'/>
                        <label>通知未买粉丝</label>
                    </div>
                    <div>
                        <input type="radio" class="radio" ng-model="vm.sendNotifyType" value="1" ng-change='vm.resetNotifyContent()'/>
                        <label>通知已买粉丝</label>
                    </div>
                </div>
            </div>
        </div>
        <div class="clearfix" style="padding: 0 10px;margin-bottom: 10px;">
            <div class="form-group" ng-class="{'has-error': vm.notifyMsgHasError}">
                <textarea id="msgContentDom" style="height: 100px;" class='form-control' ng-model='vm.notify.content' ng-change='vm.validNotifyMsgContent();'></textarea>
                <p class='tips'>请输入信息内容</p>
            </div>
        </div>
        <div class="clearfix notify_btn">
            <a ng-click='vm.sendNotifyShareMsg();' style="background-color: #ffa200; width: 100%;">群发通知</a>
        </div>
    </div>
    <!--推荐弹出层-->
    <div class="recommend-dialog" ng-show="vm.showRecommendDialog">
        <div class="clearfix title">
            <label>推荐给我的粉丝</label>
            <a ng-click="vm.closeRecommendDialog();" class="closebtn fr"></a>
        </div>
        <div class="clearfix" style="padding: 0 10px;">
            <div class="form-group" ng-class="{'has-error': vm.recommendContentHasError}">
                <textarea id="recommendContentDom" class='form-control' ng-model='vm.submitRecommendData.recommend_content' ng-change='vm.validRecommendContent()'></textarea>
                <p class='tips'>请输入推荐信息</p>
            </div>
        </div>
        <div class="clearfix recommend-btn">
            <a ng-click='vm.submitRecommend()' style="background-color: #ffa200; width: 100%;">推荐</a>
        </div>
    </div>
    <!--评论列表层-->
    <div class="comment_list-dialog" ng-show="vm.showCommentListDialogView">
        <div class="nav">
            <img src="/static/weshares/images/close.png" class="close-btn" ng-click="vm.showCommentListDialogView=false;vm.showLayer=false;">
        </div>
        <div id="box_title"><span ng-bind="vm.getOrderCommentLength()"></span>爱心评价</div>
        <div class="comment_list_box">
            <div id="con">
                <div class="bottomcover" style="z-index:2;"></div>
                <ul>
                    <li ng-repeat="orderComment in vm.sharerAllComments">
                        <div class="div_left"><img ng-src="{{vm.sharerAllCommntesUser[orderComment.user_id]['image']}}"></div>
                        <div class="div_right">
                            <span ng-bind="orderComment.username"></span>：<p ng-bind="orderComment.body" style="word-break: break-all;display: inline;"></p>
                            <div class="twit_item_time" ng-bind="vm.getFormatDate(orderComment.created)"></div>
                        </div>
                    </li>
                </ul>
            </div>
        </div>
    </div>
    <div class="background-layer" ng-show="vm.showLayer" ng-click="showRecommendDialog=false;vm.showLayer=false;vm.showNotifyView=false;vm.showCommentListDialog=false;vm.closeCommentDialog();vm.showBuyingDialog=false;vm.showShareDialog=false;vm.showNotifyShareDialog=false;vm.showNotifyShareOfferDialog=false;vm.showNotifyGetPacketDialog=false;"></div>
</div>
<div ng-show="vm.showBalanceView">
    <div style="background-color:#f5f5f5;margin-bottom: 20px;">
        <div class="classlist">
            <a ng-click="vm.showShareDetail()" class="back"></a>
            结算
            <a ng-click="vm.showShareDetail()" class="home"></a>
        </div>
        <div class="weshare-view" style="margin-top: 40px;padding: 10px 10px 0px">
            <ul class="clearfix header margin-bottom-12">
                <li><img ng-src="{{vm.weshare.creator.image||'/img/default_user_icon.jpg'}}" ng-click="vm.toUserShareInfo(vm.weshare.creator.id)"/></li>
                <li>
                    <label ng-click="vm.toUserShareInfo(vm.weshare.creator.id)" ng-bind="vm.weshare.creator.nickname"></label>
                    <s><b style="color: #ffa200" ng-bind="vm.userShareSummery.share_count">0</b>&nbsp; <small>分享</small>&nbsp;&nbsp;&nbsp;<b style="color: #ffa200" ng-bind="vm.userShareSummery.follower_count">0</b>&nbsp;<small>粉丝</small></s>
                    <s>已有<span ng-bind="vm.ordersDetail.summery.all_buy_user_count"></span>人报名</s>
                </li>
            </ul>
            <div class="introduction margin-bottom-12" style="padding: 15px 15px 10px 15px;">
                <h1 class='title margin-bottom-12' ng-bind="vm.weshare.title" style="padding-top: 0px;"></h1>
                <div class="products form-group" ng-class="{'has-error':vm.productsHasError}">
                    <dl class="clearfix product form-control" ng-repeat="product in vm.weshare.products">
                        <dd class="fl" ng-if="!vm.checkProductNum(product)||product.store==0">{{product.name}}<span ng-if="!vm.checkProductNum(product)">&nbsp;&nbsp;(<span style="color: red;">抢光了</span>)</span></dd>
                        <dd class="fl" ng-if="vm.checkProductNum(product)&&product.store>0">{{product.name}}&nbsp;&nbsp;(仅剩<span style="color: red;" ng-bind="vm.getProductLeftNum(product)"></span>份)</dd>
                        <dd class="fr" ng-if="vm.checkProductNum(product)">
                            <a class='btn decrease-btn' ng-click="vm.decreaseProductNum(product)"></a>
                            <span class='num' ng-bind="product.num||0"></span>
                            <a class='btn increase-btn' ng-click="vm.increaseProductNum(product)"></a>
                        </dd>
                        <dd class="fr" ng-if="!vm.checkProductNum(product)">
                            <span class='num' style="margin-left: 60px;">&nbsp;</span>
                        </dd>
                        <dd class="fr" style="color: #29AC0E;" ng-bind="product.price/100 | currency:'￥'"></dd>
                    </dl>
                    <p class='tips'>请输入商品数量</p>
                </div>
                <div class='total-fee text-center'>总金额：<span ng-bind="vm.orderTotalPrice | currency:'￥'"></span></div>

                <div style="text-align: center" ng-if="vm.myCoupons">(已减去红包<span ng-bind="vm.userCouponReduce/100" style="color: #ffa200;"></span>元)</div>
                <div style="text-align: center" ng-if="vm.shipFee>0">(快递费用<span ng-bind="vm.shipFee/100" style="color: #ffa200;"></span>元)</div>
            </div>
        </div>
        <div style="background-color: #ffffff;padding-top: 1px;padding-bottom: 40px;">
            <div class="clearfix" style="padding: 0 10px;margin-top: 10px;">
                <div class="form-group" ng-class="{'has-error' : vm.chooseShipType}">
                    <div class="form-control radio-group">
                        <div ng-show="vm.weshareSettings.kuai_di.status==1">
                            <input type="radio" class="radio" ng-model="vm.selectShipType" value="0" id="kuaidi" ng-change='vm.calOrderTotalPrice()'/>
                            <label for="kuaidi">快递</label>
                        </div>
                        <div ng-show="vm.weshareSettings.self_ziti.status==1">
                            <input type="radio" class="radio" ng-model="vm.selectShipType" value="1" id="ziti" ng-change='vm.calOrderTotalPrice()'/>
                            <label for="ziti">自提</label>
                        </div>
                        <div ng-show="vm.weshareSettings.pys_ziti.status==1">
                            <input type="radio" class="radio" ng-model="vm.selectShipType" value="2" id="pys_ziti" ng-change='vm.calOrderTotalPrice()'/>
                            <label for="pys_ziti">好邻居自提</label>
                        </div>
                    </div>
                    <p class="tips">请选择物流方式</p>
                </div>
            </div>
            <div class="clearfix" style="padding: 0 10px;" ng-show="vm.selectShipType==2" ng-class="{'has-error' : vm.chooseOfflineStoreError}">
                <div class="form-group" ng-class="{'has-error' : vm.chooseShipType}">
                    <div class="form-control" ng-if="vm.checkedOfflineStore!=null">
                        <span ng-bind="vm.checkedOfflineStore.alias"></span>&nbsp;<span ng-bind="vm.checkedOfflineStore.owner_name"></span>&nbsp;<span ng-bind="vm.checkedOfflineStore.owner_phone"></span>
                        <a style="text-decoration: underline;font-size: 1em;color: #ffa200;margin-left: 70%;" ng-click="vm.showChooseOfflineStore()">选择自提点</a>
                    </div>
                    <div class="form-control" ng-if="vm.checkedOfflineStore==null">
                        <a style="text-decoration: underline;font-size: 1em;color: #ffa200;margin-left: 70%;" ng-click="vm.showChooseOfflineStore()">选择自提点</a>
                    </div>
                    <p class="tips">请选择自提点</p>
                </div>
            </div>
            <div class="clearfix" style="padding: 0 10px;">
                <div class="form-group" ng-class="{'has-error': vm.addressHasError}" ng-if="vm.selectShipType==1">
                    <select class='form-control' ng-model='vm.weshare.selectedAddressId' ng-options="address.id as address.address for address in vm.weshare.addresses" ng-change='vm.validateAddress()'>
                        <option value="-1">请选择地址</option>
                    </select>
                    <p class='tips'>请选择收货地址</p>
                </div>
            </div>
            <div class="clearfix" style="padding: 0 10px;">
                <div class="form-group" ng-class="{'has-error': vm.userAddressHasError}" ng-if="vm.selectShipType==0">
                    <input class='form-control' placeholder="输入地址" ng-model='vm.buyerAddress' ng-change='vm.validateUserAddress()'/>
                    <p class='tips'>请输入收货人地址</p>
                </div>
            </div>
            <div class="clearfix" style="padding: 0 10px;">
                <div class="form-group" ng-class="{'has-error': vm.userPatchAddressHasError}" ng-if="vm.selectShipType==1">
                    <input class='form-control' placeholder="小区-楼号-门牌(方便必要时送货上门)" ng-model='vm.buyerPatchAddress' ng-change='vm.validateUserPatchAddress()'/>
                    <p class='tips'>请输入小区-楼号-门牌(方便必要时送货上门)</p>
                </div>
            </div>
            <div class="clearfix" style="padding: 0 10px;">
                <div class="form-group" ng-class="{'has-error': vm.usernameHasError}">
                    <input class='form-control' placeholder="输入姓名" ng-model='vm.buyerName' ng-change='vm.validateUserName()'/>
                    <p class='tips'>请输入收货人信息</p>
                </div>
            </div>
            <div class="clearfix" style="padding: 0 10px;">
                <div class="form-group" ng-class="{'has-error': vm.buyerMobilePhoneHasError}">
                    <input class='form-control' placeholder="输入手机号" ng-model='vm.buyerMobilePhone' ng-change='vm.validateMobile()'/>
                    <p class='tips'>请输入手机号</p>
                </div>
            </div>
        </div>

        <footer class="channel_bottom">
            <a class="btm_item" href="/share_opt/index.html">
                <i ng-if="vm.showUnReadMark" style="background:#f00;border-radius:50%;width:15px;height:15px;top:2px;left:12%;position:absolute; display: block;"></i>
                <p class="iconfont" style="height: 16px;"><i class="fa fa-users"></i></p>
                <b>朋友说</b>
            </a>
            <a class="new" ng-click='vm.submitOrder(0);' style="width: 28%;">微信支付</a>
            <a class="new" ng-click='vm.submitOrder(1);' style="width: 28%; margin-right: 7%;">支付宝支付</a>
            <a class="btm_item" href="/weshares/user_share_info">
                <p class="iconfont" style="height: 16px;"><i class="fa fa-user"></i></p>
                <b>我的</b>
            </a>
        </footer>
    </div>
</div>
<div ng-show="vm.chooseOfflineStoreView">
    <div style="background-color:#f5f5f5;">
        <div class="classlist">
            <a ng-click="vm.showShareDetail()" class="back"></a>
            选择自提点
            <a ng-click="vm.showShareDetail()" class="home"></a>
        </div>
        <ul class="clearfix zitilist">
            <li class="fl">
                <h1 ng-repeat="(code, area) in vm.areas" ng-bind="area.name" ng-click="vm.changeOfflineStoreArea(code)" ng-class="{'cur': vm.currentAreaCode == code}"></h1>
                <h1>&nbsp;</h1>
                <h1>&nbsp;</h1>
                <h1>&nbsp;</h1>
                <h1>&nbsp;</h1>
                <h1>&nbsp;</h1>
                <h1>&nbsp;</h1>
            </li>
            <li class="fr" ng-repeat="(code, offlineStores) in vm.offlineStores" ng-show="vm.currentAreaCode == code">
                <h2 class="clearfix" style="position: relative;" ng-repeat="(id, offlineStore) in offlineStores">
                    <a ng-bind="offlineStore.alias" ng-click="vm.chooseOfflineStore(offlineStore)"></a>
                    <a class="moreicon" ng-click="vm.showOfflineStoreDetail(offlineStore)"></a>
                </h2>
            </li>
        </ul>
    </div>
</div>
<div ng-show="vm.showOfflineStoreDetailView">
    <div style="background-color:#f5f5f5;">
        <div class="classlist">
            <a ng-click="vm.showChooseOfflineStore()" class="back"></a>
            自提点详情
            <a ng-click="vm.showShareDetail()" class="home"></a>
        </div>
        <div class="logistics_ziti" id="offline-store-detail">
            <h1 ng-bind="vm.currentOfflineStore.alias" ng-click="vm.chooseOfflineStore(vm.currentOfflineStore)"></h1>
            <p>
                <i>自提点地址</i>
                <em ng-bind="vm.currentOfflineStore.name"></em>
                <a ng-click="vm.mapPanTo(vm.currentOfflineStore)" class="clearfix">
                    <b><img src="/static/weshares/images/adress.png"></b>
                    <label>查看地图</label>
                </a>
            </p>
            <p>
                <i>联系信息</i>
                <em><span ng-bind="vm.currentOfflineStore.owner_name"></span> <span ng-bind="vm.currentOfflineStore.owner_phone"></span></em>
            </p>
            <div name="offlineStoreMap" style="width: 100%;height: 400px;" id="offline-store-map"></div>
        </div>
    </div>
</div>